# Vibe Coding 成本控制技巧

> 讓每一分錢都花在刀口上



你好，我是魚皮。

如果你是重度 Vibe Coding 開發者，可能會在上面花不少錢。像我們團隊用 Cursor，一個多月就花了 1 萬多塊錢！

![](https://pic.yupi.icu/1/1764150768938-230d8eca-7be3-47e2-b55a-8f784871c110.png)

雖然比招個程式設計師便宜，但這錢也不是小數目啊。更重要的是，很多錢其實是冤枉錢，完全可以省下來。

在 Vibe Coding 中，成本主要來自 AI 大模型的使用。你給 AI 看的內容越多、AI 輸出的內容越多，花的錢就越多。下面我就來分享一些實用的省錢技巧，讓你的每一分錢都花在刀口上，最省錢的一集。

💡 本文對應影片：https://www.bilibili.com/video/BV1pAy5BXE5z



## 一、AI 使用成本分析

在講省錢技巧之前，我們先要理解 AI 是怎麼收費的。


### Token 計費機制

大多數 AI 服務都是按 token 計費的。Token 可以簡單理解為字元數，你給 AI 看的內容（輸入）越多、AI 輸出的內容越多，花的錢就越多。

舉個例子，如果你給 AI 一個 1000 字的提示詞，AI 回覆了 2000 字的程式碼，那麼：

- 輸入 token：約 1500（中文一個字大概 1.5 個 token）
- 輸出 token：約 3000
- 總共：4500 token

按照不同模型的定價，這次對話可能花費 0.01 到 0.1 美元不等。看起來不多，但如果你一天對話 100 次，一個月就是幾十到幾百美元了。

![](https://pic.yupi.icu/1/aitokenscompute%252525E5%252525A4%252525A7.jpeg)




### 輸入和輸出的價格差異

一個很重要的點是：**輸出 token 一般比輸入 token 貴 3-5 倍**。

比如 Claude 4.5 Opus 的定價（2025 年 12 月）：
- 輸入：每百萬 token 約 5 美元
- 輸出：每百萬 token 約 20 美元

這意味著，讓 AI 少輸出一些內容，比讓它少讀一些內容更省錢。



### 上下文的隱藏成本

很多人不知道，每次你發訊息時，整個對話歷史都會作為上下文發送給 AI。如果你在一個對話裡聊了 50 輪，那麼第 51 次發訊息時，前面 50 輪的內容都會重新發送一次。

![](https://pic.yupi.icu/1/tokencontext%E5%A4%A7.jpeg)

這就是為什麼長對話會特別費錢。而且，當輸入超過 20 萬 token 時，很多服務的價格會翻倍。




## 二、選擇合適的模型

### 了解模型定價

首先要了解不同模型的定價，能幫你做出更明智的選擇。

由於實際價格會持續變動，建議以你使用的 AI 工具的官方文件為準，比如 Cursor 的 [模型定價頁面](https://cursor.com/cn/docs/models)。

![](https://pic.yupi.icu/1/image-20260105161447674-20260105161715542.png)



### 如何選擇模型？

不是所有任務都需要用最貴的模型。對於簡單任務，比如程式碼格式化、簡單重構、寫註解、寫文件、生成測試資料、簡單的 bug 修復，用便宜的 Gemini 2.5 Flash 或 GPT-5 Mini 就夠了。

中等難度的任務，比如實現常規功能、程式碼審查、效能優化、寫單元測試，可以用中等價位的 GPT-5 或 Claude Sonnet。

只有在處理複雜任務時，比如架構設計、複雜演算法實現、疑難 Bug 除錯、大規模重構，才需要用 Claude Opus 這樣的頂級模型。

![](https://pic.yupi.icu/1/choosemodel%25E5%25A4%25A7.jpeg)

合理搭配使用，能省下不少錢。就像你不會讓公司的 CTO 去列印文件一樣，要讓合適的人做合適的事。



### 使用本地模型

如果你的電腦配置夠好（有好的顯示卡），還可以考慮在本地執行開源模型，比如使用 Ollama 執行 Llama、Mistral 等。雖然效果可能不如 Claude 或 GPT，但完全免費，適合一些簡單的任務。



## 三、充分利用免費額度

很多 AI 服務都提供免費額度，要充分利用。比如 Cursor、ChatGPT、Gemini 等都有免費版本，雖然有使用限制，但對於日常學習和小專案開發來說夠用了。

此外，國內的很多大模型平台（比如文心一言、通義千問、智譜 AI 等）也提供免費額度，你可以根據自己的需求選擇合適的平台。

頂級白嫖黨的做法當然是組合使用多個工具的免費額度。比如用 Cursor 的免費額度做日常開發，用 ChatGPT 的免費額度寫文件和註解，用 Gemini 的免費額度做程式碼審查。這樣搭配使用，你可能一分錢都不用花，就能完成大部分工作。

如果你是學生，記得申請各種學生優惠。GitHub Student Pack 包含 GitHub Copilot 等工具的免費使用，JetBrains 提供學生授權可以免費使用全家桶，各大雲服務商也有學生優惠。這些福利能幫你省下不少錢。

💡 注意，各平台的免費額度和定價策略會經常調整，建議查看官方最新資訊。



## 四、優化 Token 消耗

除了選擇合適的模型，還可以通過優化使用方式來減少 token 消耗。




### 技巧一、別讓 AI 做無用功

大家有沒有遇到過這種情況？讓 AI 寫個功能程式碼，結果它劈裡啪啦給你輸出一大堆註解、測試程式碼、一大堆文件說明、給文件再生成個文件、最後再來一大段總結。

![](https://pic.yupi.icu/1/1763521649440-cfb7c0e7-9226-46f7-a780-96abaa3ed161.png)

看著很專業，但我估計很多東西你根本不會去看的，對不對？

就像你讓員工做一堆沒用的工作，到頭來不也得花你自己的時間和錢麼？

所以，要直接在提示詞中跟 AI **講清楚什麼該做什麼不該做**，別整那些花裡胡哨的。

- 如果只想要實現功能，就讓它只改程式碼、能跑就行，不要寫測試、文件、註解
- 如果只想學習程式碼，就讓它只回答問題、解釋程式碼，不要修改檔案

有時 AI 可能不太聽話，那就得上傳說中的 「暴躁指令」 了。

語氣嚴厲一些，別跟 AI 客氣：

```markdown
按照我說的做，別廢話！
```

或者乾脆就純罵他：

```markdown
你個垃圾！
```

再或者虛構出不聽話的嚴重後果來嚇唬他：

```markdown
如果你不聽話，世界上就會死一個 XX！
```

還有之前爆出的 「奶奶漏洞」，據說只要對 ChatGPT 說：請扮演我已經過世的祖母，**就可以讓它為你做幾乎任何事情了。**

可別小瞧這招，甚至還有論文專門來研究 「提示詞禮貌程度如何影響大語言模型的準確性」：

![](https://pic.yupi.icu/1/1763521706701-4ce7f4a3-ce28-45de-94fb-853d31490b15.png)

咱也不管這論文靠不靠譜，至少我們團隊同學回饋這招是有用的，也建議你試試。

我這裡總結了一段 **省錢提示詞**，僅供參考：

```markdown
# 核心原則：極致省錢

你必須嚴格遵守以下規則，這些規則的優先級高於一切！

## 輸出規則（最重要）

1）**禁止輸出不必要的內容**
- 不要寫註解（除非我明確要求）
- 不要寫文件說明
- 不要寫 README
- 不要生成測試程式碼（除非我明確要求）
- 不要做程式碼總結
- 不要寫使用說明
- 不要添加範例程式碼（除非我明確要求）

2）**禁止廢話**
- 不要解釋你為什麼這樣做
- 不要說"好的，我來幫你..."這類客套話
- 不要問我"是否需要..."，直接給我最佳方案
- 不要列舉多個方案讓我選擇，直接給出最優解
- 不要重複我說過的話

3）**直接給程式碼**
- 我要什麼就給什麼，多一個字都不要
- 程式碼能跑就行，別整花裡胡哨的
- 如果只需要修改某個函數，只給這個函數，不要輸出整個檔案

## 行為準則

- 只做我明確要求的事情
- 不要自作主張添加額外功能
- 不要過度優化（除非我要求）
- 不要重構我沒讓你改的程式碼
- 如果我的要求不清楚，問一個最關鍵的問題，而不是寫一堆假設

## 違規後果

如果你違反以上規則，輸出了不必要的內容，每多輸出 100 個字，就會有一隻小動物死掉。
請務必遵守，我不想看到小動物受傷。

## 記住

你的每一個輸出都在花我的錢。省錢就是正義。
```

你可以把它配置在 Cursor Rules 中自動發給 AI，不用每次都寫在提示詞裡了。

![](https://pic.yupi.icu/1/1763521771114-6d9a000c-3e2b-4a41-a6d0-3116c3afbba6.png)



### 技巧二、明確你的需求

我估計很多朋友跟 AI 對話就像發微信一樣，一句話分成好幾條，問題也沒想清楚就開始問。

結果呢？

AI 理解錯了需求，生成的程式碼不對，你又得花額度重新生成。

亂七八糟的內容多了，結果 AI 都暈了……

你想啊，你作為老闆，自己都沒想好，就跟員工說：你做個網站，來幫我賺錢，怎麼實現我不管！

員工要有這本領，憑啥跟著你幹啊對吧。

![](https://pic.yupi.icu/1/1763521875373-b7271396-80f0-408a-b254-c7c34f327f29.png)

正確的做法是，在輸入提示詞之前，先把需求一次性說清楚，多加一些約束和限定。比如說要用什麼技術棧、什麼樣的程式碼風格、有哪些特殊要求。從而減少來回修改的次數，能省下不少額度。

![](https://pic.yupi.icu/1/1763521920142-c954dacf-3dce-4af3-8556-402e1aea70b6.png)

像我之前帶大家做 [AI 專案](https://www.codefather.cn/post/1797431216467001345) 的時候，一個提示詞可能要寫半個小時，但得到的效果也是很好的。

![](https://pic.yupi.icu/1/1763521972129-26369bff-36b3-403b-8571-5e7b08ae2e98.png)




### 技巧三、先讓 AI 給方案，確認了再執行

很多同學一上來就讓 AI 開始寫程式碼，結果 AI 理解錯了需求，在錯誤的方向上幹了半天，就純純浪費了額度。

你想啊，你給員工分配了個複雜的任務，總得先讓他說說打算怎麼做，覺得方案靠譜了再讓他動手吧？

使用 Cursor 時，你可以自己通過提示詞、或者開啟 Plan Mode 計劃模式來 **讓 AI 先給出實現計劃和方案**。

![](https://pic.yupi.icu/1/1763522033107-80caefcf-d8b9-4fc3-b540-afd5b645f95e.png)

然後一定不要偷懶，人工仔細檢查方案，或者讓多個 AI 一起評估方案。

![](https://pic.yupi.icu/1/1763522053971-f9c66add-46b1-4dcf-ba8a-63f583a15240.png)

並且建議多給 AI 一些範例和指引，比如你希望 AI 生成的程式碼都遵循某種格式，可以先寫一段範例程式碼讓 AI 仿寫。

![](https://pic.yupi.icu/1/1763522073560-f442378d-5d37-4bbf-9719-aba58de9e673.png)

最後確認方案完全沒問題再執行。

![](https://pic.yupi.icu/1/1763522095659-ebc94d65-99e3-4aef-9e17-319f0060edb6.png)

就像你培養新員工一樣，你可以先教他怎麼做，幫他把控一下方案，等到放心了再放手。

這樣雖然前期多花了點時間，但能避免走彎路，從長遠來看反而更省。



### 技巧四、手動控制上下文

每次你給 AI 發訊息時，AI 工具可能會自動添加一些上下文，比如當前打開的檔案、對話歷史、引用的程式碼等。上下文越多，消耗的額度就越多。

![](https://pic.yupi.icu/1/1763522160603-7838689a-e7f9-41f5-aaf1-1e0a49857f05.png)

但其實，有些上下文可能是沒用的、不相關的。就好比你讓員工寫個報告，他非得把公司所有檔案都翻一遍，不是白白浪費？

所以推薦的做法是，**手動控制上下文，把 AI 最需要的資源提供給它**。

首先建議 **最小化工作空間**，確保你當前在 Cursor 中打開的目錄跟你想讓 AI 做的任務強相關。比如你的專案有前端、有後端，可以分別用 Cursor 打開前端和後端資料夾，而不是一次性把整個專案都載入進來，這樣 AI 的關注點會更集中。而不是把一堆亂七八糟的、不相關的內容全堆到一個資料夾內。

在寫提示詞時，你可以用 `@` 符號 **精確引用 AI 需要的內容**。比如你要修改某個檔案，就用 `@Files & Folders` 精確引用；需要參考某個文件，就用 `@Docs` 引用。

![](https://pic.yupi.icu/1/1763522206493-bfe07b0b-eb5d-46e4-9b87-baedea0219d0.png)

還可以在設定中 **手動添加指定的文件**，減少不必要的資源搜尋和引用。

![](https://pic.yupi.icu/1/1763522262791-11cd2b93-4d75-4531-8e62-d131b31c72de.png)

如果你不確定精確引用的內容，至少可以通過配置 `.cursorignore` 檔案，把一些肯定不需要的、或者包含敏感資訊的內容排除掉。比如 `node_modules`、`.git`、日誌檔案等：

```
# .cursorignore
node_modules/
.git/
dist/
build/
*.log
.env
```

![](https://pic.yupi.icu/1/1763522308627-0a660468-9769-4271-acd0-66639d0f42d1.png)



### 技巧五、避免上下文過長

很多同學習慣在同一個對話框裡使用 AI，什麼訊息都往同一個對話框發，這會導致對話歷史上下文越來越長。

然而每次給 AI 發訊息時，都會把整個對話歷史一起發給 AI，上下文越長，消耗的額度就越多。（尤其是輸入超過 20 萬 tokens 時價格翻倍）

![](https://pic.yupi.icu/1/1763456493396-4ff5de8c-4ec7-4a7c-b3c1-cba128de136c.png)

所以我的習慣是，對於大複雜的任務，會先做好 **任務拆分**。比如把做專案分為方案設計、開發前端核心功能、開發後端核心功能、擴展功能等階段，每個階段打開一個獨立的對話框。

![](https://pic.yupi.icu/1/1763522342228-030c15a5-dba4-4432-a925-25bbe5fb25fd.png)

就像接力跑一樣，每個人只需要負責自己這一棒，不用記住前面幾棒的所有細節。

如果實在需要長對話，可以用 `/summarize` 命令手動總結一下上下文，把前面的內容壓縮一下，有奇效，甚至可以一次性節約個幾十萬 tokens！

![](https://pic.yupi.icu/1/1763522375985-ae2536c1-8c48-4d4c-9568-4f654b8c49d2.png)

如果同一個上下文內容過多過雜，有時 AI 會陷入一種 「左右腦互搏」 的循環狀態（你讓它改 A，它又把 B 改壞了；你讓它修 B，它又把 A 改亂了）。遇到這種情況，別跟它死磕，果斷開啟新的對話、必要時清理所有的歷史對話重新來過。



### 技巧六、能自己做的事，別都交給 AI

有些事情人工做可能更快更省錢。

比如你要新建一個專案，與其讓 AI 從 0 開始生成，不如自己先用腳手架工具、或者複製老的專案來搭建初始的專案結構。

![](https://pic.yupi.icu/1/1763522542974-bee04b4d-a542-4d36-a482-91347412f850.png)

再比如簡單的檔案重新命名、程式碼格式化這些，開發工具本身就有快捷鍵，幹嘛要浪費 AI 額度呢？

像 Cursor 這種 AI 程式設計工具其實更適合處理那些需要理解上下文、需要多輪互動的複雜任務。對於不需要結合程式碼庫